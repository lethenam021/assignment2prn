@page "/login"
@model Presentation.Pages.Register.LoginModel
@{
}
<!doctype html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Đăng nhập | FUNews</title>
    <meta name="description" content="Trang đăng nhập FUNews - giao diện chuyên nghiệp, hiện đại, tối ưu trải nghiệm." />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/login.css" />
</head>
<body>
    <main class="container" aria-label="Khu vực đăng nhập">


        <section class="card" role="dialog" aria-labelledby="loginTitle" aria-describedby="loginDesc">

            <div class="card-body">
                <h2 id="loginTitle" class="card-title">Đăng nhập</h2>
                <p id="loginDesc" class="card-subtitle">Chào mừng trở lại! Vui lòng nhập thông tin để tiếp tục.</p>

                <div id="alert" class="alert" role="status" aria-live="polite"></div>

                <form id="loginForm" method="post">
                    @Html.AntiForgeryToken()

                    <!-- Email -->
                    <div class="field">
                        <label for="email" class="label">Email</label>
                        <div class="input">
                            <!-- mail icon -->
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 6h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 0 8 6 8-6" stroke="#64748b" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" /></svg>
                            <input id="email" name="email" type="email" inputmode="email" autocomplete="email" placeholder="nhanvien@fpt.edu.vn" required aria-required="true" />
                        </div>
                    </div>

                    <!-- Password -->
                    <div class="field">
                        <label for="password" class="label">Mật khẩu</label>
                        <div class="input">
                            <!-- lock icon -->
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 10V8a6 6 0 1 1 12 0v2" stroke="#64748b" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" /><rect x="4" y="10" width="16" height="10" rx="2" stroke="#64748b" stroke-width="1.8" /><path d="M12 14v3" stroke="#64748b" stroke-width="1.8" stroke-linecap="round" /></svg>
                            <input id="password" name="password" type="password" autocomplete="current-password" placeholder="••••••••" minlength="6" required aria-required="true" />
                            <span id="toggleEye" class="toggle-eye" aria-label="Hiện/ẩn mật khẩu" title="Hiện/ẩn mật khẩu">
                                <svg id="eyeOpen" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12Z" stroke="#64748b" stroke-width="1.8" /><circle cx="12" cy="12" r="3" stroke="#64748b" stroke-width="1.8" /></svg>
                                <svg id="eyeClosed" width="18" height="18" viewBox="0 0 24 24" fill="none" style="display:none" aria-hidden="true"><path d="M3 3l18 18" stroke="#64748b" stroke-width="1.8" /><path d="M10.6 5.1A10.8 10.8 0 0 1 12 5c6 0 10 7 10 7a19.2 19.2 0 0 1-4.2 4.8" stroke="#64748b" stroke-width="1.8" /></svg>
                            </span>
                        </div>
                    </div>

                    <div class="actions">
                        <label class="remember"><input id="remember" type="checkbox" name="remember" /> Ghi nhớ đăng nhập</label>
                        <a class="link" href="#" id="forgotLink">Quên mật khẩu?</a>
                    </div>
                    <div class="divider"></div>

                    <button id="submitBtn" class="btn btn-primary" type="submit" aria-label="Đăng nhập vào hệ thống">
                        <span class="btn-text">Đăng nhập</span>
                    </button>




                    <p class="foot">Chưa có tài khoản? <a class="link" asp-controller="Register" asp-action="Signup" id="signupLink">Tạo tài khoản</a></p>
                </form>
            </div>
            @if (TempData["AlertMessage"] != null)
            {
                <script>
                    alert(@Html.Raw(System.Text.Json.JsonSerializer.Serialize(TempData["AlertMessage"])));
                </script>
            }

        </section>
    </main>
    <script>
        const toggleEye = document.getElementById("toggleEye");
        const passwordInput = document.getElementById("password");
        const eyeOpen = document.getElementById("eyeOpen");
        const eyeClosed = document.getElementById("eyeClosed");

        toggleEye.addEventListener("click", () => {
          const isHidden = passwordInput.type === "password";
          passwordInput.type = isHidden ? "text" : "password";
          eyeOpen.style.display = isHidden ? "none" : "block";
          eyeClosed.style.display = isHidden ? "block" : "none";
        });
    </script>

</body>
</html>
